{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "DIVM Evidence Pack v1",
  "type": "object",
  "required": ["schema_version","model","timestamp_utc","locale","prompt_fingerprint","metrics","sampling"],
  "properties": {
    "schema_version": { "type": "string", "const": "1.0" },
    "model": {
      "type": "object",
      "required": ["name","version"],
      "properties": {
        "name": { "type": "string" },
        "version": { "type": "string" }
      }
    },
    "timestamp_utc": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$" },
    "locale": { "type": "string", "maxLength": 10 },
    "prompt_fingerprint": { "type": "string", "maxLength": 128 },
    "metrics": {
      "type": "object",
      "required": ["cluster_size","ci95","cv","icc"],
      "properties": {
        "cluster_size": { "type": "integer", "minimum": 25 },
        "mean_visibility": { "type": "number" },
        "std_dev": { "type": "number" },
        "ci95": { "type": "number", "minimum": 0 },
        "cv": { "type": "number", "minimum": 0 },
        "icc": { "type": "number", "minimum": 0 }
      }
    },
    "sampling": {
      "type": "object",
      "required": ["categories"],
      "properties": {
        "categories": { "type": "array", "minItems": 1, "items": { "type": "string" } },
        "regions": { "type": "array", "items": { "type": "string" } }
      }
    },
    "evidence_hash": { "type": "string", "maxLength": 128 }
  }
}
